[main]
phraseStart=""".method public static whitelist newApplication(Ljava/lang/Class;Landroid/content/Context;)Landroid/app/Application;"""
phraseEnd=""".end method"""
replaceWith="""
.method public static whitelist newApplication(Ljava/lang/Class;Landroid/content/Context;)Landroid/app/Application;
    .registers 2
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/lang/Class<",
            "*>;",
            "Landroid/content/Context;",
            ")",
            "Landroid/app/Application;"
        }
    .end annotation

    .annotation system Ldalvik/annotation/Throws;
        value = {
            Ljava/lang/InstantiationException;,
            Ljava/lang/IllegalAccessException;,
            Ljava/lang/ClassNotFoundException;
        }
    .end annotation

    .line 1266
    invoke-virtual {p0}, Ljava/lang/Class;->newInstance()Ljava/lang/Object;

    move-result-object p0

    check-cast p0, Landroid/app/Application;

    .line 1267
    invoke-virtual {p0, p1}, Landroid/app/Application;->attach(Landroid/content/Context;)V

    .line 1268
    invoke-static {p0}, Lcom/android/internal/util/slim/AttestationHooks;->initApplicationBeforeOnCreate(Landroid/app/Application;)V

    .line 1269
    invoke-virtual {p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;

    move-result-object p1

    .line 1270
    invoke-static {p1}, Lcom/android/internal/util/slim/PixelPropsUtils;->setProps(Ljava/lang/String;)V

    .line 1271
    return-object p0
.end method
"""

